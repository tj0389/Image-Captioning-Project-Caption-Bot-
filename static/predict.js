//========================================================================
// Drag and drop image handling
//========================================================================
const word2idx={"in": 1, "the": 2, "on": 3, "is": 4, "and": 5, "dog": 6, "with": 7, "man": 8, "of": 9, "two": 10, "white": 11, "black": 12, "boy": 13, "are": 14, "woman": 15, "girl": 16, "to": 17, "wearing": 18, "at": 19, "people": 20, "water": 21, "red": 22, "young": 23, "brown": 24, "an": 25, "his": 26, "blue": 27, "dogs": 28, "running": 29, "through": 30, "playing": 31, "while": 32, "shirt": 33, "down": 34, "standing": 35, "ball": 36, "little": 37, "grass": 38, "snow": 39, "child": 40, "person": 41, "jumping": 42, "over": 43, "three": 44, "front": 45, "sitting": 46, "holding": 47, "up": 48, "field": 49, "small": 50, "by": 51, "large": 52, "green": 53, "one": 54, "group": 55, "yellow": 56, "her": 57, "walking": 58, "children": 59, "men": 60, "into": 61, "air": 62, "beach": 63, "near": 64, "mouth": 65, "jumps": 66, "another": 67, "for": 68, "street": 69, "runs": 70, "its": 71, "from": 72, "riding": 73, "stands": 74, "as": 75, "bike": 76, "girls": 77, "outside": 78, "other": 79, "off": 80, "out": 81, "rock": 82, "next": 83, "play": 84, "orange": 85, "looking": 86, "pink": 87, "player": 88, "camera": 89, "their": 90, "pool": 91, "hat": 92, "jacket": 93, "boys": 94, "women": 95, "around": 96, "behind": 97, "some": 98, "background": 99, "dirt": 100, "toy": 101, "soccer": 102, "sits": 103, "dressed": 104, "has": 105, "wall": 106, "mountain": 107, "walks": 108, "crowd": 109, "along": 110, "plays": 111, "stand": 112, "looks": 113, "building": 114, "park": 115, "climbing": 116, "four": 117, "top": 118, "face": 119, "football": 120, "across": 121, "grassy": 122, "holds": 123, "sand": 124, "stick": 125, "smiling": 126, "ocean": 127, "rides": 128, "swimming": 129, "hill": 130, "skateboard": 131, "carrying": 132, "doing": 133, "each": 134, "tennis": 135, "car": 136, "tree": 137, "snowy": 138, "baby": 139, "picture": 140, "bicycle": 141, "hair": 142, "together": 143, "jump": 144, "him": 145, "it": 146, "road": 147, "area": 148, "that": 149, "basketball": 150, "tan": 151, "back": 152, "trick": 153, "race": 154, "swing": 155, "head": 156, "shorts": 157, "bench": 158, "sidewalk": 159, "covered": 160, "run": 161, "catch": 162, "game": 163, "sit": 164, "helmet": 165, "ground": 166, "hand": 167, "dress": 168, "something": 169, "fence": 170, "kids": 171, "being": 172, "frisbee": 173, "lake": 174, "path": 175, "city": 176, "ramp": 177, "walk": 178, "wave": 179, "skateboarder": 180, "several": 181, "long": 182, "purple": 183, "side": 184, "there": 185, "slide": 186, "baseball": 187, "high": 188, "posing": 189, "track": 190, "players": 191, "wooden": 192, "big": 193, "sunglasses": 194, "watches": 195, "boat": 196, "uniform": 197, "dark": 198, "coat": 199, "trees": 200, "look": 201, "them": 202, "pants": 203, "table": 204, "rocks": 205, "ride": 206, "rope": 207, "watching": 208, "motorcycle": 209, "grey": 210, "suit": 211, "couple": 212, "towards": 213, "arms": 214, "beside": 215, "hands": 216, "under": 217, "rocky": 218, "sign": 219, "watch": 220, "snowboarder": 221, "river": 222, "horse": 223, "does": 224, "above": 225, "racing": 226, "older": 227, "jeans": 228, "lady": 229, "ice": 230, "colored": 231, "striped": 232, "colorful": 233, "pose": 234, "who": 235, "onto": 236, "woods": 237, "midair": 238, "guy": 239, "he": 240, "glasses": 241, "taking": 242, "leaps": 243, "mountains": 244, "haired": 245, "asian": 246, "climbs": 247, "playground": 248, "blonde": 249, "yard": 250, "against": 251, "collar": 252, "performing": 253, "cliff": 254, "hockey": 255, "cap": 256, "blond": 257, "bird": 258, "smiles": 259, "body": 260, "open": 261, "laying": 262, "surfer": 263, "team": 264, "many": 265, "rider": 266, "after": 267, "chasing": 268, "kid": 269, "wet": 270, "fountain": 271, "skier": 272, "surrounded": 273, "outdoors": 274, "flying": 275, "during": 276, "inside": 277, "old": 278, "brick": 279, "biker": 280, "others": 281, "shore": 282, "edge": 283, "away": 284, "takes": 285, "light": 286, "toddler": 287, "guitar": 288, "hanging": 289, "trying": 290, "very": 291, "middle": 292, "someone": 293, "forest": 294, "five": 295, "backpack": 296, "night": 297, "outfit": 298, "gray": 299, "pole": 300, "bed": 301, "talking": 302, "object": 303, "steps": 304, "making": 305, "floor": 306, "nearby": 307, "whilst": 308, "line": 309, "about": 310, "going": 311, "flowers": 312, "past": 313, "arm": 314, "sky": 315, "toward": 316, "tall": 317, "trail": 318, "surfboard": 319, "swinging": 320, "eating": 321, "dancing": 322, "board": 323, "waves": 324, "this": 325, "poses": 326, "bridge": 327, "leaves": 328, "all": 329, "day": 330, "leaping": 331, "window": 332, "outdoor": 333, "bag": 334, "course": 335, "clothes": 336, "legs": 337, "fighting": 338, "chair": 339, "room": 340, "costume": 341, "house": 342, "leash": 343, "plastic": 344, "shallow": 345, "clothing": 346, "splashing": 347, "stone": 348, "carries": 349, "shirts": 350, "ready": 351, "climber": 352, "between": 353, "obstacle": 354, "getting": 355, "bright": 356, "catches": 357, "sliding": 358, "adult": 359, "they": 360, "swings": 361, "skateboarding": 362, "waiting": 363, "bathing": 364, "sweater": 365, "concrete": 366, "sled": 367, "trampoline": 368, "lawn": 369, "gear": 370, "winter": 371, "wears": 372, "metal": 373, "mud": 374, "skiing": 375, "uniforms": 376, "male": 377, "jersey": 378, "railing": 379, "number": 380, "sandy": 381, "tongue": 382, "fire": 383, "stream": 384, "store": 385, "train": 386, "golden": 387, "pulling": 388, "set": 389, "stairs": 390, "catching": 391, "distance": 392, "throwing": 393, "upside": 394, "sun": 395, "lot": 396, "drink": 397, "bar": 398, "get": 399, "fishing": 400, "gets": 401, "tries": 402, "adults": 403, "smile": 404, "shirtless": 405, "overlooking": 406, "like": 407, "swims": 408, "flies": 409, "rail": 410, "ski": 411, "female": 412, "couch": 413, "wooded": 414, "tricks": 415, "makes": 416, "busy": 417, "drinking": 418, "puppy": 419, "chases": 420, "lying": 421, "animal": 422, "tire": 423, "vest": 424, "flag": 425, "surfing": 426, "swim": 427, "performs": 428, "american": 429, "cellphone": 430, "pond": 431, "reading": 432, "laughing": 433, "right": 434, "trunks": 435, "leaning": 436, "flip": 437, "shopping": 438, "huge": 439, "food": 440, "puddle": 441, "dock": 442, "she": 443, "slides": 444, "horses": 445, "eyes": 446, "hats": 447, "photo": 448, "bat": 449, "shoes": 450, "nose": 451, "sunset": 452, "left": 453, "kayak": 454, "bubbles": 455, "cart": 456, "truck": 457, "climb": 458, "coming": 459, "stunt": 460, "deep": 461, "snowboard": 462, "hold": 463, "scarf": 464, "feet": 465, "life": 466, "no": 467, "or": 468, "bikes": 469, "family": 470, "umbrella": 471, "waterfall": 472, "goal": 473, "view": 474, "elderly": 475, "equipment": 476, "restaurant": 477, "tent": 478, "skating": 479, "hurdle": 480, "greyhound": 481, "biting": 482, "both": 483, "skis": 484, "lone": 485, "setting": 486, "harness": 487, "take": 488, "falling": 489, "wetsuit": 490, "bus": 491, "mask": 492, "muddy": 493, "hiker": 494, "flags": 495, "vehicle": 496, "dry": 497, "paper": 498, "skirt": 499, "bags": 500, "guys": 501, "court": 502, "surf": 503, "crowded": 504, "fight": 505, "sweatshirt": 506, "dresses": 507, "structure": 508, "ledge": 509, "book": 510, "tank": 511, "bmx": 512, "six": 513, "be": 514, "pile": 515, "slope": 516, "go": 517, "cigarette": 518, "german": 519, "raft": 520, "airborne": 521, "short": 522, "driving": 523, "skate": 524, "kick": 525, "have": 526, "diving": 527, "faces": 528, "cross": 529, "cement": 530, "inflatable": 531, "goggles": 532, "wood": 533, "subway": 534, "costumes": 535, "graffiti": 536, "goes": 537, "canoe": 538, "parking": 539, "teenage": 540, "cyclist": 541, "dance": 542, "kicking": 543, "bottle": 544, "shaking": 545, "splashes": 546, "buildings": 547, "fallen": 548, "turn": 549, "parade": 550, "hit": 551, "shepherd": 552, "ears": 553, "ring": 554, "sports": 555, "jackets": 556, "gathered": 557, "blanket": 558, "pictures": 559, "low": 560, "backyard": 561, "throws": 562, "smaller": 563, "closeup": 564, "tunnel": 565, "band": 566, "full": 567, "silver": 568, "chairs": 569, "microphone": 570, "smoking": 571, "leather": 572, "held": 573, "sunny": 574, "bikini": 575, "wheel": 576, "piece": 577, "boots": 578, "event": 579, "balls": 580, "beard": 581, "bull": 582, "surface": 583, "cars": 584, "cat": 585, "fluffy": 586, "stage": 587, "kicks": 588, "painted": 589, "make": 590, "pushing": 591, "using": 592, "bicyclist": 593, "hiking": 594, "outfits": 595, "box": 596, "rugby": 597, "statue": 598, "stuffed": 599, "pointing": 600, "paint": 601, "sticks": 602, "steep": 603, "gold": 604, "bald": 605, "bucket": 606, "blowing": 607, "glass": 608, "tube": 609, "door": 610, "swimsuit": 611, "drinks": 612, "scooter": 613, "suits": 614, "sleeping": 615, "flower": 616, "throw": 617, "shot": 618, "volleyball": 619, "cow": 620, "furry": 621, "hugging": 622, "corner": 623, "wrestling": 624, "net": 625, "crossing": 626, "wrestle": 627, "same": 628, "hangs": 629, "hind": 630, "cowboy": 631, "points": 632, "leg": 633, "motorcyclist": 634, "staring": 635, "leans": 636, "attempting": 637, "police": 638, "kissing": 639, "spectators": 640, "lays": 641, "wading": 642, "sheep": 643, "party": 644, "attempts": 645, "few": 646, "teams": 647, "show": 648, "bunch": 649, "log": 650, "facing": 651, "below": 652, "beige": 653, "bicycles": 654, "close": 655, "puppies": 656, "cup": 657, "snowboarding": 658, "hoop": 659, "desert": 660, "garden": 661, "african": 662, "wide": 663, "fenced": 664, "way": 665, "sprinkler": 666, "fast": 667, "beautiful": 668, "sticking": 669, "underwater": 670, "attached": 671, "fish": 672, "gym": 673, "softball": 674, "gather": 675, "competition": 676, "eats": 677, "waving": 678, "end": 679, "onlookers": 680, "naked": 681, "filled": 682, "phone": 683, "wings": 684, "poles": 685, "racket": 686, "racetrack": 687, "which": 688, "dances": 689, "talks": 690, "rain": 691, "gravel": 692, "base": 693, "rolling": 694, "prepares": 695, "seat": 696, "lit": 697, "empty": 698,
"clear": 699, "motocross": 700, "racer": 701, "seated": 702, "hula": 703, "do": 704, "headband": 705, "signs": 706, "platform": 707, "toys": 708, "heads": 709, "neck": 710, "wear": 711, "hits": 712, "ladies": 713, "pushes": 714, "plaid": 715, "branch": 716, "mohawk": 717, "market": 718, "downhill": 719, "birds": 720, "bride": 721, "round": 722, "pavement": 723, "paddling": 724, "having": 725, "public": 726, "handstand": 727, "just": 728, "shop": 729, "traffic": 730, "rough": 731, "shoulder": 732, "scene": 733, "among": 734, "skateboards": 735, "different": 736, "reads": 737, "bearded": 738, "gloves": 739, "chewing": 740, "school": 741, "beer": 742, "hose": 743, "thrown": 744, "landscape": 745, "rural": 746, "drives": 747, "dirty": 748, "bars": 749, "barefoot": 750, "tie": 751, "urban": 752, "kitchen": 753, "teeth": 754, "races": 755, "cream": 756, "balloon": 757, "resting": 758, "foot": 759, "tug": 760, "splash": 761, "display": 762, "carnival": 763, "before": 764, "bottom": 765, "cricket": 766, "painting": 767, "lies": 768, "paved": 769, "goalie": 770, "wait": 771, "indoor": 772, "mother": 773, "plants": 774, "carpet": 775, "creek": 776, "says": 777, "waits": 778, "younger": 779, "rapids": 780, "wedding": 781, "flight": 782, "smoke": 783, "match": 784, "opposing": 785, "lined": 786, "half": 787, "headphones": 788, "animals": 789, "pipe": 790, "lap": 791, "fall": 792, "showing": 793, "block": 794, "stadium": 795, "skates": 796, "greyhounds": 797, "blows": 798, "wrestler": 799, "moving": 800, "boats": 801, "gun": 802, "parked": 803, "reaching": 804, "onstage": 805, "santa": 806, "art": 807, "seen": 808, "paddle": 809, "video": 810, "where": 811, "mouths": 812, "foreground": 813, "war": 814, "talk": 815, "chase": 816, "bandanna": 817, "third": 818, "instruments": 819, "singing": 820, "lights": 821, "runner": 822, "falls": 823, "can": 824, "deck": 825, "atv": 826, "helmets": 827, "pulled": 828, "photograph": 829, "ear": 830, "motorbike": 831, "wire": 832, "funny": 833, "matching": 834, "poodle": 835, "curly": 836, "shooting": 837, "spotted": 838, "ropes": 839, "newspaper": 840, "outstretched": 841, "floating": 842, "fly": 843, "audience": 844, "brightly": 845, "hitting": 846, "fair": 847, "try": 848, "unicycle": 849, "reaches": 850, "amusement": 851, "hay": 852, "staircase": 853, "christmas": 854, "shakes": 855, "duck": 856, "hole": 857, "atop": 858, "spray": 859, "bushes": 860, "preparing": 861, "bank": 862, "alongside": 863, "purse": 864, "retriever": 865, "pack": 866, "martial": 867, "shoulders": 868, "wheelie": 869, "raises": 870, "bubble": 871, "teenagers": 872, "giant": 873, "grinding": 874, "appears": 875, "terrain": 876, "country": 877, "skiers": 878, "finger": 879, "hooded": 880, "stop": 881, "follows": 882, "formation": 883, "chain": 884, "roller": 885, "plate": 886, "pulls": 887, "hoops": 888, "kite": 889, "digging": 890, "larger": 891, "surfs": 892, "muzzle": 893, "rowing": 894, "putting": 895, "hikers": 896, "alone": 897, "station": 898, "denim": 899, "enjoys": 900, "cold": 901, "hoodie": 902, "music": 903, "balancing": 904, "jeep": 905, "covering": 906, "perform": 907, "muzzled": 908, "rodeo": 909, "row": 910, "kneeling": 911, "paddles": 912, "puts": 913, "pier": 914, "giving": 915, "shaggy": 916, "picnic": 917, "backwards": 918, "gives": 919, "indoors": 920, "spinning": 921, "himself": 922, "shadow": 923, "parachute": 924, "jumped": 925, "hang": 926, "break": 927, "shows": 928, "handrail": 929, "laughs": 930, "leap": 931, "bite": 932, "backs": 933, "cut": 934, "safety": 935, "pull": 936, "playfully": 937, "clouds": 938, "backpacks": 939, "writing": 940, "ladder": 941, "enjoying": 942, "owner": 943, "competing": 944, "necklace": 945, "gate": 946, "counter": 947, "sniffing": 948, "licking": 949, "riders": 950, "terrier": 951, "seven": 952, "bites": 953, "construction": 954, "machine": 955, "fetch": 956, "bikers": 957, "skinned": 958, "underneath": 959, "jungle": 960, "made": 961, "cloth": 962, "fur": 963, "mound": 964, "basket": 965, "violin": 966, "doorway": 967, "fingers": 968, "passing": 969, "tackle": 970, "bowl": 971, "rink": 972, "crouches": 973, "quickly": 974, "paws": 975, "sea": 976, "mid": 977, "collie": 978, "step": 979, "computer": 980, "camouflage": 981, "these": 982, "splashed": 983, "hillside": 984, "referee": 985, "taken": 986, "coats": 987, "professional": 988, "rollerblades": 989, "decorated": 990, "friend": 991, "pigeons": 992, "ducks": 993, "military": 994, "wheelchair": 995, "spots": 996, "waters": 997, "kayaking": 998, "hot": 999, "helps": 1000, "bouncing": 1001, "straw": 1002, "float": 1003, "tracks": 1004, "balances": 1005, "lean": 1006, "trunk": 1007, "skater": 1008, "homeless": 1009, "opposite": 1010, "driver": 1011, "caught": 1012, "rollerblading": 1013, "barrier": 1014, "cone": 1015, "stump": 1016, "stroller": 1017, "courtyard": 1018, "heavy": 1019, "balloons": 1020, "streets": 1021, "biking": 1022, "without": 1023, "wagon": 1024, "landing": 1025, "bear": 1026, "coffee": 1027, "shown": 1028, "formal": 1029, "frame": 1030, "peace": 1031, "kiss": 1032, "land": 1033, "mirror": 1034, "dune": 1035, "walkway": 1036, "screen": 1037, "karate": 1038, "arts": 1039, "watched": 1040, "string": 1041, "tents": 1042, "chest": 1043, "home": 1044, "hug": 1045, "laugh": 1046, "clown": 1047, "sooners": 1048, "plane": 1049, "climbers": 1050, "uses": 1051, "motorcycles": 1052, "cardboard": 1053, "helping": 1054, "shaped": 1055, "eat": 1056, "suspended": 1057, "makeup": 1058, "blurry": 1059, "monkey": 1060, "speed": 1061, "coaster": 1062, "direction": 1063, "fetching": 1064, "reach": 1065, "medium": 1066, "sized": 1067, "range": 1068, "rolls": 1069, "tattoo": 1070, "barking": 1071, "drum": 1072, "frozen": 1073, "kneels": 1074, "mountainside": 1075, "happily": 1076, "jogging": 1077, "put": 1078, "bending": 1079, "neon": 1080, "asleep": 1081, "eye": 1082, "begins": 1083, "jean": 1084, "but": 1085, "rubber": 1086, "well": 1087, "flowered": 1088, "headscarf": 1089, "practicing": 1090, "touching": 1091, "crashing": 1092, "cyclists": 1093, "see": 1094, "petting": 1095, "raised": 1096, "dead": 1097, "blow": 1098, "blocks": 1099, "knit": 1100, "miami": 1101, "jerseys": 1102, "mountaintop": 1103, "sprayed": 1104, "attire": 1105, "teenager": 1106, "plain": 1107, "cake": 1108, "turning": 1109, "dusk": 1110, "balcony": 1111, "leaving": 1112, "crosses": 1113, "only": 1114, "forward": 1115, "training": 1116, "tires": 1117, "corn": 1118, "shoreline": 1119, "bend": 1120, "dribbles": 1121, "surrounding": 1122, "pass": 1123, "indian": 1124, "airplane": 1125, "boxing": 1126, "grinds": 1127, "puck": 1128, "overalls": 1129, "working": 1130, "lab": 1131, "rest": 1132, "porch": 1133, "boardwalk": 1134, "lay": 1135, "curve": 1136, "hugs": 1137, "bicyclists": 1138, "town": 1139, "almost": 1140, "lots": 1141, "waterskiing": 1142, "skirts": 1143, "father": 1144, "curb": 1145, "patch": 1146, "hills": 1147, "snowball": 1148, "photographer": 1149, "square": 1150, "fake": 1151, "grocery": 1152, "action": 1153, "racquet": 1154, "comes": 1155, "policeman": 1156, "coach": 1157, "tackled": 1158, "wrestlers": 1159, "valley": 1160, "rests": 1161, "jet": 1162, "pine": 1163, "closed": 1164, "friends": 1165, "golf": 1166, "cloudy": 1167, "themselves": 1168, "sides": 1169, "disc": 1170, "sport": 1171, "kayaker": 1172, "free": 1173, "crouching": 1174, "ahead": 1175, "tail": 1176, "tricycle": 1177, "pit": 1178, "wrapped": 1179, "smokes": 1180, "dives": 1181, "muzzles": 1182, "officer": 1183, "eastern": 1184, "sumo": 1185, "rainbow": 1186, "sculpture": 1187, "mat": 1188, "barrel": 1189, "colors": 1190, "strip": 1191, "warm": 1192, "time": 1193, "type": 1194, "flips": 1195, "first": 1196, "candles": 1197, "towel": 1198, "lift": 1199, "moves": 1200, "ribbon": 1201, "spread": 1202, "tattoos": 1203, "following": 1204, "class": 1205, "vehicles": 1206, "though": 1207, "scuba": 1208, "multicolored": 1209, "image": 1210, "students": 1211, "hike": 1212, "swimmer": 1213, "gathering": 1214, "redheaded": 1215, "cheerleaders": 1216, "part": 1217, "cones": 1218, "members": 1219, "thumbs": 1220, "groom": 1221, "beam": 1222, "patio": 1223, "wheeler": 1224, "woodland": 1225, "cave": 1226, "sharp": 1227, "topless": 1228, "sandals": 1229, "leading": 1230, "spraying": 1231, "soda": 1232, "passes": 1233, "knee": 1234, "bow": 1235, "vests": 1236, "scarves": 1237, "wine": 1238, "palm": 1239, "catcher": 1240, "speaking": 1241, "multi": 1242, "wheeled": 1243, "dust": 1244, "brush": 1245, "silhouette": 1246, "crosswalk": 1247, "kisses": 1248, "turns": 1249, "surfers": 1250, "enjoy": 1251, "fans": 1252, "move": 1253, "leads": 1254, "fancy": 1255, "tiger": 1256, "drums": 1257, "merry": 1258, "kiddie": 1259, "chews": 1260, "obama": 1261, "also": 1262, "turned": 1263, "scaling": 1264, "item": 1265, "foam": 1266, "shower": 1267, "happy": 1268, "itself": 1269, "marching": 1270, "apron": 1271, "church": 1272, "sofa": 1273, "place": 1274, "grab": 1275, "tables": 1276, "cheek": 1277, "help": 1278, "pirate": 1279, "shoot": 1280, "peak": 1281, "touches": 1282, "living": 1283, "seats": 1284, "bare": 1285, "listening": 1286, "crawls": 1287, "embrace": 1288, "sprinklers": 1289, "carry": 1290, "tutu": 1291, "herself": 1292, "sleeps": 1293, "center": 1294, "protest": 1295, "banner": 1296, "aged": 1297, "swan": 1298, "hard": 1299, "various": 1300, "played": 1301, "carriage": 1302, "benches": 1303, "chased": 1304, "rug": 1305, "motion": 1306, "birthday": 1307, "boogie": 1308, "skull": 1309, "pitbull": 1310, "circle": 1311, "cover": 1312, "case": 1313, "innertube": 1314, "agility": 1315, "stares": 1316, "ridden": 1317, "teen": 1318, "rafting": 1319, "farm": 1320, "beads": 1321, "foggy": 1322, "stomach": 1323, "leashes": 1324, "sword": 1325, "inline": 1326, "snowsuit": 1327, "licks": 1328, "protective": 1329, "huddle": 1330, "what": 1331, "pitcher": 1332, "japanese": 1333, "walls": 1334, "tackling": 1335, "rollerblader": 1336, "chinese": 1337, "pajamas": 1338, "workers": 1339,
 "boxer": 1340, "skinny": 1341, "hallway": 1342, "flops": 1343, "boulder": 1344, "print": 1345, "thin": 1346, "cafe": 1347, "sideways": 1348, "device": 1349, "railroad": 1350, "floats": 1351, "sheet": 1352, "you": 1353, "retrieving": 1354, "feeding": 1355, "raising": 1356, "fun": 1357, "rows": 1358, "not": 1359, "wind": 1360, "pouring": 1361, "sings": 1362, "picking": 1363, "neighborhood": 1364, "single": 1365, "spiderman": 1366, "work": 1367, "markings": 1368, "money": 1369, "icy": 1370, "desk": 1371, "flock": 1372, "pair": 1373, "geese": 1374, "natural": 1375, "bowling": 1376, "alley": 1377, "musicians": 1378, "ship": 1379, "tulips": 1380, "oklahoma": 1381, "compete": 1382, "how": 1383, "followed": 1384, "doberman": 1385, "eight": 1386, "so": 1387, "silly": 1388, "lead": 1389, "chalk": 1390, "new": 1391, "lips": 1392, "sleeved": 1393, "post": 1394, "stuck": 1395, "attempt": 1396, "beneath": 1397, "sets": 1398, "figure": 1399, "fabric": 1400, "foliage": 1401, "narrow": 1402, "fishes": 1403, "bends": 1404, "brunette": 1405, "lifts": 1406, "lands": 1407, "teal": 1408, "shade": 1409, "bleachers": 1410, "partially": 1411, "scales": 1412, "gallery": 1413, "emerges": 1414, "crawling": 1415, "bounds": 1416, "bounce": 1417, "barren": 1418, "teammate": 1419, "headfirst": 1420, "concert": 1421, "photographs": 1422, "wheels": 1423, "mostly": 1424, "swimsuits": 1425, "fruit": 1426, "worker": 1427, "guard": 1428, "glove": 1429, "cheerleader": 1430, "runners": 1431, "camel": 1432, "shoe": 1433, "athlete": 1434, "camels": 1435, "treat": 1436, "pillow": 1437, "sheer": 1438, "headed": 1439, "drive": 1440, "traveling": 1441, "chew": 1442, "van": 1443, "plant": 1444, "sneakers": 1445, "hood": 1446, "weather": 1447, "caps": 1448, "floral": 1449, "males": 1450, "daughter": 1451, "pitch": 1452, "racers": 1453, "slightly": 1454, "females": 1455, "casting": 1456, "monument": 1457, "tops": 1458, "speaks": 1459, "touch": 1460, "second": 1461, "athletic": 1462, "style": 1463, "amidst": 1464, "cloud": 1465, "bathroom": 1466, "distant": 1467, "participate": 1468, "pale": 1469, "autumn": 1470, "flipping": 1471, "meadow": 1472, "sniffs": 1473, "stripes": 1474, "grabs": 1475, "polka": 1476, "plaza": 1477, "cape": 1478, "starting": 1479, "breaking": 1480, "buckets": 1481, "rear": 1482, "robe": 1483, "been": 1484, "sail": 1485, "deer": 1486, "houses": 1487, "officers": 1488, "jockeys": 1489, "tied": 1490, "skyline": 1491, "infant": 1492, "chocolate": 1493, "driveway": 1494, "helmeted": 1495, "relaxing": 1496, "spins": 1497, "advertisement": 1498, "luggage": 1499, "approaching": 1500, "bikinis": 1501, "jack": 1502, "playpen": 1503, "khaki": 1504, "wakeboarding": 1505, "stool": 1506, "shaved": 1507, "business": 1508, "push": 1509, "musical": 1510, "instrument": 1511, "retrieves": 1512, "tossing": 1513, "marked": 1514, "bath": 1515, "boarding": 1516, "gentleman": 1517, "bay": 1518, "leafy": 1519, "branches": 1520, "murky": 1521, "arena": 1522, "jewelry": 1523, "buried": 1524, "electric": 1525, "bathtub": 1526, "festival": 1527, "position": 1528, "stairway": 1529, "bush": 1530, "human": 1531, "crouched": 1532, "campfire": 1533, "candy": 1534, "hardhat": 1535, "pet": 1536, "arcade": 1537, "opponent": 1538, "space": 1539, "control": 1540, "broken": 1541, "binoculars": 1542, "crossed": 1543, "roof": 1544, "masks": 1545, "crying": 1546, "whistle": 1547, "sledding": 1548, "shovel": 1549, "speeds": 1550, "grabbing": 1551, "midst": 1552, "straight": 1553, "beagle": 1554, "point": 1555, "robes": 1556, "appear": 1557, "jumper": 1558, "fireworks": 1559, "stair": 1560, "crane": 1561, "elephant": 1562, "tri": 1563, "pigtails": 1564, "meal": 1565, "suv": 1566, "flat": 1567, "fountains": 1568, "artist": 1569, "follow": 1570, "navy": 1571, "intersection": 1572, "cage": 1573, "toddlers": 1574, "strange": 1575, "pacifier": 1576, "reflection": 1577, "uphill": 1578, "club": 1579, "wakeboard": 1580, "booth": 1581, "stops": 1582, "lines": 1583, "still": 1584, "logs": 1585, "either": 1586, "bungee": 1587, "tag": 1588, "waist": 1589, "scenic": 1590, "kayaks": 1591, "visible": 1592, "diver": 1593, "horizon": 1594, "countryside": 1595, "dimly": 1596, "knees": 1597, "link": 1598, "dreadlocks": 1599, "uniformed": 1600, "tugging": 1601, "multiple": 1602, "clad": 1603, "read": 1604, "dusty": 1605, "ponytail": 1606, "opens": 1607, "stretching": 1608, "rowboat": 1609, "photographed": 1610, "flames": 1611, "shoveling": 1612, "horseback": 1613, "digs": 1614, "tripod": 1615, "belly": 1616, "numbered": 1617, "stars": 1618, "jockey": 1619, "advertising": 1620, "sparklers": 1621, "kites": 1622, "traditional": 1623, "mural": 1624, "soft": 1625, "tv": 1626, "pony": 1627, "drawing": 1628, "barn": 1629, "pointed": 1630, "snowmobile": 1631, "cows": 1632, "star": 1633, "swimmers": 1634, "opening": 1635, "jogs": 1636, "pushed": 1637, "descending": 1638, "growling": 1639, "hiding": 1640, "approaches": 1641, "trotting": 1642, "waterskier": 1643, "hikes": 1644, "checkered": 1645, "floaties": 1646, "museum": 1647, "silhouetted": 1648, "covers": 1649, "swords": 1650, "lane": 1651, "far": 1652, "tosses": 1653, "camping": 1654, "tub": 1655, "excited": 1656, "paw": 1657, "lighting": 1658, "fisherman": 1659, "enclosed": 1660, "gestures": 1661, "attack": 1662, "mall": 1663, "slip": 1664, "handlebars": 1665, "performer": 1666, "oriental": 1667, "spot": 1668, "wild": 1669, "balance": 1670, "costumed": 1671, "dot": 1672, "lounge": 1673, "poodles": 1674, "gliding": 1675, "bundled": 1676, "identical": 1677, "cameras": 1678, "snowcapped": 1679, "toilet": 1680, "individuals": 1681, "doors": 1682, "rollerskating": 1683, "poster": 1684, "dancer": 1685, "stretches": 1686, "cast": 1687, "motorcyclists": 1688, "apple": 1689, "aerial": 1690, "ridge": 1691, "wig": 1692, "sweaters": 1693, "cards": 1694, "firetruck": 1695, "picks": 1696, "office": 1697, "hut": 1698, "nighttime": 1699, "feather": 1700, "pathway": 1701, "soaked": 1702, "paints": 1703, "wades": 1704, "relaxes": 1705, "snowboarders": 1706, "tropical": 1707, "items": 1708, "summer": 1709, "carts": 1710, "windows": 1711, "weeds": 1712, "vendor": 1713, "selling": 1714, "underwear": 1715, "stare": 1716, "husky": 1717, "barks": 1718, "reflective": 1719, "tight": 1720, "power": 1721, "skimpy": 1722, "was": 1723, "clapping": 1724, "marker": 1725, "shoots": 1726, "laptop": 1727, "pick": 1728, "brother": 1729, "handles": 1730, "tattooed": 1731, "hardwood": 1732, "pen": 1733, "goat": 1734, "mom": 1735, "cooking": 1736, "babies": 1737, "pedestrians": 1738, "graffitied": 1739, "fuzzy": 1740, "rings": 1741, "dribbling": 1742, "parka": 1743, "canoes": 1744, "collars": 1745, "chicken": 1746, "army": 1747, "tiny": 1748, "wand": 1749, "rally": 1750, "color": 1751, "ran": 1752, "trainer": 1753, "umbrellas": 1754, "dropping": 1755, "colourful": 1756, "batman": 1757, "railings": 1758, "flute": 1759, "crown": 1760, "fan": 1761, "squirted": 1762, "burning": 1763, "ribbons": 1764, "sing": 1765, "trashcan": 1766, "member": 1767, "helicopter": 1768, "bee": 1769, "dish": 1770, "skateboarders": 1771, "descends": 1772, "dive": 1773, "multicolor": 1774, "come": 1775, "incline": 1776, "sunlight": 1777, "elaborate": 1778, "fireplace": 1779, "sprays": 1780, "folding": 1781, "seaweed": 1782, "stretch": 1783, "sporting": 1784, "flowery": 1785, "stretched": 1786, "cushion": 1787, "sat": 1788, "leashed": 1789, "blocking": 1790, "wakeboarder": 1791, "including": 1792, "leotard": 1793, "headdress": 1794, "boards": 1795, "heavily": 1796, "posts": 1797, "own": 1798, "peeks": 1799, "leaf": 1800, "container": 1801, "overhead": 1802, "parasailing": 1803, "handle": 1804, "facial": 1805, "bouncy": 1806, "limb": 1807, "bottles": 1808, "bread": 1809, "halloween": 1810, "tricycles": 1811, "choppy": 1812, "aqua": 1813, "casts": 1814, "floppy": 1815, "works": 1816, "tights": 1817, "glider": 1818, "calm": 1819, "bounding": 1820, "mess": 1821, "hurdles": 1822, "native": 1823, "wade": 1824, "observes": 1825, "fellow": 1826, "kicked": 1827, "similar": 1828, "snake": 1829, "beverage": 1830, "bearing": 1831, "footballer": 1832, "cheer": 1833, "injured": 1834, "skies": 1835, "pitching": 1836, "studio": 1837, "bunny": 1838, "carpeted": 1839, "pan": 1840, "drag": 1841, "motor": 1842, "seagulls": 1843, "bridesmaids": 1844, "cannon": 1845, "startseq": 1846, "endseq": 1847};

const idx2word={"1": "in", "2": "the", "3": "on", "4": "is", "5": "and", "6": "dog", "7": "with", "8": "man", "9": "of", "10": "two", "11": "white", "12": "black", "13": "boy", "14": "are", "15": "woman", "16": "girl", "17": "to", "18": "wearing", "19": "at", "20": "people", "21": "water", "22": "red", "23": "young", "24": "brown", "25": "an", "26": "his", "27": "blue", "28": "dogs", "29": "running", "30": "through", "31": "playing", "32": "while", "33": "shirt", "34": "down", "35": "standing", "36": "ball", "37": "little", "38": "grass", "39": "snow", "40": "child", "41": "person", "42": "jumping", "43": "over", "44": "three", "45": "front", "46": "sitting", "47": "holding", "48": "up", "49": "field", "50": "small", "51": "by", "52": "large", "53": "green", "54": "one", "55": "group", "56": "yellow", "57": "her", "58": "walking", "59": "children", "60": "men", "61": "into", "62": "air", "63": "beach", "64": "near", "65": "mouth", "66": "jumps", "67": "another", "68": "for", "69": "street", "70": "runs", "71": "its", "72": "from", "73": "riding", "74": "stands", "75": "as", "76": "bike", "77": "girls", "78": "outside", "79": "other", "80": "off", "81": "out", "82": "rock", "83": "next", "84": "play", "85": "orange", "86": "looking", "87": "pink", "88": "player", "89": "camera", "90": "their", "91": "pool", "92": "hat", "93": "jacket", "94": "boys", "95": "women", "96": "around", "97": "behind", "98": "some", "99": "background", "100": "dirt", "101": "toy", "102": "soccer", "103": "sits", "104": "dressed", "105": "has", "106": "wall", "107": "mountain", "108": "walks", "109": "crowd", "110": "along", "111": "plays", "112": "stand", "113": "looks", "114": "building", "115": "park", "116": "climbing", "117": "four", "118": "top", "119": "face", "120": "football", "121": "across", "122": "grassy", "123": "holds", "124": "sand", "125": "stick", "126": "smiling", "127": "ocean", "128": "rides", "129": "swimming", "130": "hill", "131": "skateboard", "132": "carrying", "133": "doing", "134": "each", "135": "tennis", "136": "car", "137": "tree", "138": "snowy", "139": "baby", "140": "picture", "141": "bicycle", "142": "hair", "143": "together", "144": "jump", "145": "him", "146": "it", "147": "road", "148": "area", "149": "that", "150": "basketball", "151": "tan", "152": "back", "153": "trick", "154": "race", "155": "swing", "156": "head", "157": "shorts", "158": "bench", "159": "sidewalk", "160": "covered", "161": "run", "162": "catch", "163": "game", "164": "sit", "165": "helmet", "166": "ground", "167": "hand", "168": "dress", "169": "something", "170": "fence", "171": "kids", "172": "being", "173": "frisbee", "174": "lake", "175": "path", "176": "city", "177": "ramp", "178": "walk", "179": "wave", "180": "skateboarder", "181": "several", "182": "long", "183": "purple", "184": "side", "185": "there", "186": "slide", "187": "baseball", "188": "high", "189": "posing", "190": "track", "191": "players", "192": "wooden", "193": "big", "194": "sunglasses", "195": "watches", "196": "boat", "197": "uniform", "198": "dark", "199": "coat", "200": "trees", "201": "look", "202": "them", "203": "pants", "204": "table", "205": "rocks", "206": "ride", "207": "rope", "208": "watching", "209": "motorcycle", "210": "grey", "211": "suit", "212": "couple", "213": "towards", "214": "arms", "215": "beside", "216": "hands", "217": "under", "218": "rocky", "219": "sign", "220": "watch", "221": "snowboarder", "222": "river", "223": "horse", "224": "does", "225": "above", "226": "racing", "227": "older", "228": "jeans", "229": "lady", "230": "ice", "231": "colored", "232": "striped", "233": "colorful", "234": "pose", "235": "who", "236": "onto", "237": "woods", "238": "midair", "239": "guy", "240": "he", "241": "glasses", "242": "taking", "243": "leaps", "244": "mountains", "245": "haired", "246": "asian", "247": "climbs", "248": "playground", "249": "blonde", "250": "yard", "251": "against", "252": "collar", "253": "performing", "254": "cliff", "255": "hockey", "256": "cap", "257": "blond", "258": "bird", "259": "smiles", "260": "body", "261": "open", "262": "laying", "263": "surfer", "264": "team", "265": "many", "266": "rider", "267": "after", "268": "chasing", "269": "kid", "270": "wet", "271": "fountain", "272": "skier", "273": "surrounded", "274": "outdoors", "275": "flying", "276": "during", "277": "inside", "278": "old", "279": "brick", "280": "biker", "281": "others", "282": "shore", "283": "edge", "284": "away", "285": "takes", "286": "light", "287": "toddler", "288": "guitar", "289": "hanging", "290": "trying", "291": "very", "292": "middle", "293": "someone", "294": "forest", "295": "five", "296": "backpack", "297": "night", "298": "outfit", "299": "gray", "300": "pole", "301": "bed", "302": "talking", "303": "object", "304": "steps", "305": "making", "306": "floor", "307": "nearby", "308": "whilst", "309": "line", "310": "about", "311": "going", "312": "flowers", "313": "past", "314": "arm", "315": "sky", "316": "toward", "317": "tall", "318": "trail", "319": "surfboard", "320": "swinging", "321": "eating", "322": "dancing", "323": "board", "324": "waves", "325": "this", "326": "poses", "327": "bridge", "328": "leaves", "329": "all", "330": "day", "331": "leaping", "332": "window", "333": "outdoor", "334": "bag", "335": "course", "336": "clothes", "337": "legs", "338": "fighting", "339": "chair", "340": "room", "341": "costume", "342": "house", "343": "leash", "344": "plastic", "345": "shallow", "346": "clothing", "347": "splashing", "348": "stone", "349": "carries", "350": "shirts", "351": "ready", "352": "climber", "353": "between", "354": "obstacle", "355": "getting", "356": "bright", "357": "catches", "358": "sliding", "359": "adult", "360": "they", "361": "swings", "362": "skateboarding", "363": "waiting", "364": "bathing", "365": "sweater", "366": "concrete", "367": "sled", "368": "trampoline", "369": "lawn", "370": "gear", "371": "winter", "372": "wears", "373": "metal", "374": "mud", "375": "skiing", "376": "uniforms", "377": "male", "378": "jersey", "379": "railing", "380": "number", "381": "sandy", "382": "tongue", "383": "fire", "384": "stream", "385": "store", "386": "train", "387": "golden", "388": "pulling", "389": "set", "390": "stairs", "391": "catching", "392": "distance", "393": "throwing", "394": "upside", "395": "sun", "396": "lot", "397": "drink", "398": "bar", "399": "get", "400": "fishing", "401": "gets", "402": "tries", "403": "adults", "404": "smile", "405": "shirtless", "406": "overlooking", "407": "like", "408": "swims", "409": "flies", "410": "rail", "411": "ski", "412": "female", "413": "couch", "414": "wooded", "415": "tricks", "416": "makes", "417": "busy", "418": "drinking", "419": "puppy", "420": "chases", "421": "lying", "422": "animal", "423": "tire", "424": "vest", "425": "flag", "426": "surfing", "427": "swim", "428": "performs", "429": "american", "430": "cellphone", "431": "pond", "432": "reading", "433": "laughing", "434": "right", "435": "trunks", "436": "leaning", "437": "flip", "438": "shopping", "439": "huge", "440": "food", "441": "puddle", "442": "dock", "443": "she", "444": "slides", "445": "horses", "446": "eyes", "447": "hats", "448": "photo", "449": "bat", "450": "shoes", "451": "nose", "452": "sunset", "453": "left", "454": "kayak", "455": "bubbles", "456": "cart", "457": "truck", "458": "climb", "459": "coming", "460": "stunt", "461": "deep", "462": "snowboard", "463": "hold", "464": "scarf", "465": "feet", "466": "life", "467": "no", "468": "or", "469": "bikes", "470": "family", "471": "umbrella", "472": "waterfall", "473": "goal", "474": "view", "475": "elderly", "476": "equipment", "477": "restaurant", "478": "tent", "479": "skating", "480": "hurdle", "481": "greyhound", "482": "biting", "483": "both", "484": "skis", "485": "lone", "486": "setting", "487": "harness", "488": "take", "489": "falling", "490": "wetsuit", "491": "bus", "492": "mask", "493": "muddy", "494": "hiker", "495": "flags", "496": "vehicle", "497": "dry", "498": "paper", "499": "skirt", "500": "bags", "501": "guys", "502": "court", "503": "surf", "504": "crowded", "505": "fight", "506": "sweatshirt", "507": "dresses", "508": "structure", "509": "ledge", "510": "book", "511": "tank", "512": "bmx", "513": "six", "514": "be", "515": "pile", "516": "slope", "517": "go", "518": "cigarette", "519": "german", "520": "raft", "521": "airborne", "522": "short", "523": "driving", "524": "skate", "525": "kick", "526": "have", "527": "diving", "528": "faces", "529": "cross", "530": "cement", "531": "inflatable", "532": "goggles", "533": "wood", "534": "subway", "535": "costumes", "536": "graffiti", "537": "goes", "538": "canoe", "539": "parking", "540": "teenage", "541": "cyclist", "542": "dance", "543": "kicking", "544": "bottle", "545": "shaking", "546": "splashes", "547": "buildings", "548": "fallen", "549": "turn", "550": "parade", "551": "hit", "552": "shepherd", "553": "ears", "554": "ring", "555": "sports", "556": "jackets", "557": "gathered", "558": "blanket", "559": "pictures", "560": "low", "561": "backyard", "562": "throws", "563": "smaller", "564": "closeup", "565": "tunnel", "566": "band", "567": "full", "568": "silver", "569": "chairs", "570": "microphone", "571": "smoking", "572": "leather", "573": "held", "574": "sunny", "575": "bikini", "576": "wheel", "577": "piece", "578": "boots", "579": "event", "580": "balls", "581": "beard", "582": "bull", "583": "surface", "584": "cars", "585": "cat", "586": "fluffy", "587": "stage", "588": "kicks", "589": "painted", "590": "make", "591": "pushing", "592": "using", "593": "bicyclist", "594": "hiking", "595": "outfits", "596": "box", "597": "rugby", "598": "statue", "599": "stuffed", "600": "pointing", "601": "paint", "602": "sticks", "603": "steep", "604": "gold", "605": "bald", "606": "bucket", "607": "blowing", "608": "glass", "609": "tube", "610": "door", "611": "swimsuit", "612": "drinks", "613": "scooter", "614": "suits", "615": "sleeping",
 "616": "flower", "617": "throw", "618": "shot", "619": "volleyball", "620": "cow", "621": "furry", "622": "hugging", "623": "corner", "624": "wrestling", "625": "net", "626": "crossing", "627": "wrestle", "628": "same", "629": "hangs", "630": "hind", "631": "cowboy", "632": "points", "633": "leg", "634": "motorcyclist", "635": "staring", "636": "leans", "637": "attempting", "638": "police", "639": "kissing", "640": "spectators", "641": "lays", "642": "wading", "643": "sheep", "644": "party", "645": "attempts", "646": "few", "647": "teams", "648": "show", "649": "bunch", "650": "log", "651": "facing", "652": "below", "653": "beige", "654": "bicycles", "655": "close", "656": "puppies", "657": "cup", "658": "snowboarding", "659": "hoop", "660": "desert", "661": "garden", "662": "african", "663": "wide", "664": "fenced", "665": "way", "666": "sprinkler", "667": "fast", "668": "beautiful", "669": "sticking", "670": "underwater", "671": "attached", "672": "fish", "673": "gym", "674": "softball", "675": "gather", "676": "competition", "677": "eats", "678": "waving", "679": "end", "680": "onlookers", "681": "naked", "682": "filled", "683": "phone", "684": "wings", "685": "poles", "686": "racket", "687": "racetrack", "688": "which", "689": "dances", "690": "talks", "691": "rain", "692": "gravel", "693": "base", "694": "rolling", "695": "prepares", "696": "seat", "697": "lit", "698": "empty", "699": "clear", "700": "motocross", "701": "racer", "702": "seated", "703": "hula", "704": "do", "705": "headband", "706": "signs", "707": "platform", "708": "toys", "709": "heads", "710": "neck", "711": "wear", "712": "hits", "713": "ladies", "714": "pushes", "715": "plaid", "716": "branch", "717": "mohawk", "718": "market", "719": "downhill", "720": "birds", "721": "bride", "722": "round", "723": "pavement", "724": "paddling", "725": "having", "726": "public", "727": "handstand", "728": "just", "729": "shop", "730": "traffic", "731": "rough", "732": "shoulder", "733": "scene", "734": "among", "735": "skateboards", "736": "different", "737": "reads", "738": "bearded", "739": "gloves", "740": "chewing", "741": "school", "742": "beer", "743": "hose", "744": "thrown", "745": "landscape", "746": "rural", "747": "drives", "748": "dirty", "749": "bars", "750": "barefoot", "751": "tie", "752": "urban", "753": "kitchen", "754": "teeth", "755": "races", "756": "cream", "757": "balloon", "758": "resting", "759": "foot", "760": "tug", "761": "splash", "762": "display", "763": "carnival", "764": "before", "765": "bottom", "766": "cricket", "767": "painting", "768": "lies", "769": "paved", "770": "goalie", "771": "wait", "772": "indoor", "773": "mother", "774": "plants", "775": "carpet", "776": "creek", "777": "says", "778": "waits", "779": "younger", "780": "rapids", "781": "wedding", "782": "flight", "783": "smoke", "784": "match", "785": "opposing", "786": "lined", "787": "half", "788": "headphones", "789": "animals", "790": "pipe", "791": "lap", "792": "fall", "793": "showing", "794": "block", "795": "stadium", "796": "skates", "797": "greyhounds", "798": "blows", "799": "wrestler", "800": "moving", "801": "boats", "802": "gun", "803": "parked", "804": "reaching", "805": "onstage", "806": "santa", "807": "art", "808": "seen", "809": "paddle", "810": "video", "811": "where", "812": "mouths", "813": "foreground", "814": "war", "815": "talk", "816": "chase", "817": "bandanna", "818": "third", "819": "instruments", "820": "singing", "821": "lights", "822": "runner", "823": "falls", "824": "can", "825": "deck", "826": "atv", "827": "helmets", "828": "pulled", "829": "photograph", "830": "ear", "831": "motorbike", "832": "wire", "833": "funny", "834": "matching", "835": "poodle", "836": "curly", "837": "shooting", "838": "spotted", "839": "ropes", "840": "newspaper", "841": "outstretched", "842": "floating", "843": "fly", "844": "audience", "845": "brightly", "846": "hitting", "847": "fair", "848": "try", "849": "unicycle", "850": "reaches", "851": "amusement", "852": "hay", "853": "staircase", "854": "christmas", "855": "shakes", "856": "duck", "857": "hole", "858": "atop", "859": "spray", "860": "bushes", "861": "preparing", "862": "bank", "863": "alongside", "864": "purse", "865": "retriever", "866": "pack", "867": "martial", "868": "shoulders", "869": "wheelie", "870": "raises", "871": "bubble", "872": "teenagers", "873": "giant", "874": "grinding", "875": "appears", "876": "terrain", "877": "country", "878": "skiers", "879": "finger", "880": "hooded", "881": "stop", "882": "follows", "883": "formation", "884": "chain", "885": "roller", "886": "plate", "887": "pulls", "888": "hoops", "889": "kite", "890": "digging", "891": "larger", "892": "surfs", "893": "muzzle", "894": "rowing", "895": "putting", "896": "hikers", "897": "alone", "898": "station", "899": "denim", "900": "enjoys", "901": "cold", "902": "hoodie", "903": "music", "904": "balancing", "905": "jeep", "906": "covering", "907": "perform", "908": "muzzled", "909": "rodeo", "910": "row", "911": "kneeling", "912": "paddles", "913": "puts", "914": "pier", "915": "giving", "916": "shaggy", "917": "picnic", "918": "backwards", "919": "gives", "920": "indoors", "921": "spinning", "922": "himself", "923": "shadow", "924": "parachute", "925": "jumped", "926": "hang", "927": "break", "928": "shows", "929": "handrail", "930": "laughs", "931": "leap", "932": "bite", "933": "backs", "934": "cut", "935": "safety", "936": "pull", "937": "playfully", "938": "clouds", "939": "backpacks", "940": "writing", "941": "ladder", "942": "enjoying", "943": "owner", "944": "competing", "945": "necklace", "946": "gate", "947": "counter", "948": "sniffing", "949": "licking", "950": "riders", "951": "terrier", "952": "seven", "953": "bites", "954": "construction", "955": "machine", "956": "fetch", "957": "bikers", "958": "skinned", "959": "underneath", "960": "jungle", "961": "made", "962": "cloth", "963": "fur", "964": "mound", "965": "basket", "966": "violin", "967": "doorway", "968": "fingers", "969": "passing", "970": "tackle", "971": "bowl", "972": "rink", "973": "crouches", "974": "quickly", "975": "paws", "976": "sea", "977": "mid", "978": "collie", "979": "step", "980": "computer", "981": "camouflage", "982": "these", "983": "splashed", "984": "hillside", "985": "referee", "986": "taken", "987": "coats", "988": "professional", "989": "rollerblades", "990": "decorated", "991": "friend", "992": "pigeons", "993": "ducks", "994": "military", "995": "wheelchair", "996": "spots", "997": "waters", "998": "kayaking", "999": "hot", "1000": "helps", "1001": "bouncing", "1002": "straw", "1003": "float", "1004": "tracks", "1005": "balances", "1006": "lean", "1007": "trunk", "1008": "skater", "1009": "homeless", "1010": "opposite", "1011": "driver", "1012": "caught", "1013": "rollerblading", "1014": "barrier", "1015": "cone", "1016": "stump", "1017": "stroller", "1018": "courtyard", "1019": "heavy", "1020": "balloons", "1021": "streets", "1022": "biking", "1023": "without", "1024": "wagon", "1025": "landing", "1026": "bear", "1027": "coffee", "1028": "shown", "1029": "formal", "1030": "frame", "1031": "peace", "1032": "kiss", "1033": "land", "1034": "mirror", "1035": "dune", "1036": "walkway", "1037": "screen", "1038": "karate", "1039": "arts", "1040": "watched", "1041": "string", "1042": "tents", "1043": "chest", "1044": "home", "1045": "hug", "1046": "laugh", "1047": "clown", "1048": "sooners", "1049": "plane", "1050": "climbers", "1051": "uses", "1052": "motorcycles", "1053": "cardboard", "1054": "helping", "1055": "shaped", "1056": "eat", "1057": "suspended", "1058": "makeup", "1059": "blurry", "1060": "monkey", "1061": "speed", "1062": "coaster", "1063": "direction", "1064": "fetching", "1065": "reach", "1066": "medium", "1067": "sized", "1068": "range", "1069": "rolls", "1070": "tattoo", "1071": "barking", "1072": "drum", "1073": "frozen", "1074": "kneels", "1075": "mountainside", "1076": "happily", "1077": "jogging", "1078": "put", "1079": "bending", "1080": "neon", "1081": "asleep", "1082": "eye", "1083": "begins", "1084": "jean", "1085": "but", "1086": "rubber", "1087": "well", "1088": "flowered", "1089": "headscarf", "1090": "practicing", "1091": "touching", "1092": "crashing", "1093": "cyclists", "1094": "see", "1095": "petting", "1096": "raised", "1097": "dead", "1098": "blow", "1099": "blocks", "1100": "knit", "1101": "miami", "1102": "jerseys", "1103": "mountaintop", "1104": "sprayed", "1105": "attire", "1106": "teenager", "1107": "plain", "1108": "cake", "1109": "turning", "1110": "dusk", "1111": "balcony", "1112": "leaving", "1113": "crosses", "1114": "only", "1115": "forward", "1116": "training", "1117": "tires", "1118": "corn", "1119": "shoreline", "1120": "bend", "1121": "dribbles", "1122": "surrounding", "1123": "pass", "1124": "indian", "1125": "airplane", "1126": "boxing", "1127": "grinds", "1128": "puck", "1129": "overalls", "1130": "working", "1131": "lab", "1132": "rest", "1133": "porch", "1134": "boardwalk", "1135": "lay", "1136": "curve", "1137": "hugs", "1138": "bicyclists", "1139": "town", "1140": "almost", "1141": "lots", "1142": "waterskiing", "1143": "skirts", "1144": "father", "1145": "curb", "1146": "patch", "1147": "hills", "1148": "snowball", "1149": "photographer", "1150": "square", "1151": "fake", "1152": "grocery", "1153": "action", "1154": "racquet", "1155": "comes", "1156": "policeman", "1157": "coach", "1158": "tackled", "1159": "wrestlers", "1160": "valley", "1161": "rests", "1162": "jet", "1163": "pine", "1164": "closed", "1165": "friends", "1166": "golf", "1167": "cloudy", "1168": "themselves", "1169": "sides", "1170": "disc", "1171": "sport", "1172": "kayaker", "1173": "free", "1174": "crouching", "1175": "ahead", "1176": "tail", "1177": "tricycle", "1178": "pit", "1179": "wrapped", "1180": "smokes", "1181": "dives", "1182": "muzzles", "1183": "officer", "1184": "eastern", "1185": "sumo", "1186": "rainbow", "1187": "sculpture", "1188": "mat", "1189": "barrel",
  "1190": "colors", "1191": "strip", "1192": "warm", "1193": "time", "1194": "type", "1195": "flips", "1196": "first", "1197": "candles", "1198": "towel", "1199": "lift", "1200": "moves", "1201": "ribbon", "1202": "spread", "1203": "tattoos", "1204": "following", "1205": "class", "1206": "vehicles", "1207": "though", "1208": "scuba", "1209": "multicolored", "1210": "image", "1211": "students", "1212": "hike", "1213": "swimmer", "1214": "gathering", "1215": "redheaded", "1216": "cheerleaders", "1217": "part", "1218": "cones", "1219": "members", "1220": "thumbs", "1221": "groom", "1222": "beam", "1223": "patio", "1224": "wheeler", "1225": "woodland", "1226": "cave", "1227": "sharp", "1228": "topless", "1229": "sandals", "1230": "leading", "1231": "spraying", "1232": "soda", "1233": "passes", "1234": "knee", "1235": "bow", "1236": "vests", "1237": "scarves", "1238": "wine", "1239": "palm", "1240": "catcher", "1241": "speaking", "1242": "multi", "1243": "wheeled", "1244": "dust", "1245": "brush", "1246": "silhouette", "1247": "crosswalk", "1248": "kisses", "1249": "turns", "1250": "surfers", "1251": "enjoy", "1252": "fans", "1253": "move", "1254": "leads", "1255": "fancy", "1256": "tiger", "1257": "drums", "1258": "merry", "1259": "kiddie", "1260": "chews", "1261": "obama", "1262": "also", "1263": "turned", "1264": "scaling", "1265": "item", "1266": "foam", "1267": "shower", "1268": "happy", "1269": "itself", "1270": "marching", "1271": "apron", "1272": "church", "1273": "sofa", "1274": "place", "1275": "grab", "1276": "tables", "1277": "cheek", "1278": "help", "1279": "pirate", "1280": "shoot", "1281": "peak", "1282": "touches", "1283": "living", "1284": "seats", "1285": "bare", "1286": "listening", "1287": "crawls", "1288": "embrace", "1289": "sprinklers", "1290": "carry", "1291": "tutu", "1292": "herself", "1293": "sleeps", "1294": "center", "1295": "protest", "1296": "banner", "1297": "aged", "1298": "swan", "1299": "hard", "1300": "various", "1301": "played", "1302": "carriage", "1303": "benches", "1304": "chased", "1305": "rug", "1306": "motion", "1307": "birthday", "1308": "boogie", "1309": "skull", "1310": "pitbull", "1311": "circle", "1312": "cover", "1313": "case", "1314": "innertube", "1315": "agility", "1316": "stares", "1317": "ridden", "1318": "teen", "1319": "rafting", "1320": "farm", "1321": "beads", "1322": "foggy", "1323": "stomach", "1324": "leashes", "1325": "sword", "1326": "inline", "1327": "snowsuit", "1328": "licks", "1329": "protective", "1330": "huddle", "1331": "what", "1332": "pitcher", "1333": "japanese", "1334": "walls", "1335": "tackling", "1336": "rollerblader", "1337": "chinese", "1338": "pajamas", "1339": "workers", "1340": "boxer", "1341": "skinny", "1342": "hallway", "1343": "flops", "1344": "boulder", "1345": "print", "1346": "thin", "1347": "cafe", "1348": "sideways", "1349": "device", "1350": "railroad", "1351": "floats", "1352": "sheet", "1353": "you", "1354": "retrieving", "1355": "feeding", "1356": "raising", "1357": "fun", "1358": "rows", "1359": "not", "1360": "wind", "1361": "pouring", "1362": "sings", "1363": "picking", "1364": "neighborhood", "1365": "single", "1366": "spiderman", "1367": "work", "1368": "markings", "1369": "money", "1370": "icy", "1371": "desk", "1372": "flock", "1373": "pair", "1374": "geese", "1375": "natural", "1376": "bowling", "1377": "alley", "1378": "musicians", "1379": "ship", "1380": "tulips", "1381": "oklahoma", "1382": "compete", "1383": "how", "1384": "followed", "1385": "doberman", "1386": "eight", "1387": "so", "1388": "silly", "1389": "lead", "1390": "chalk", "1391": "new", "1392": "lips", "1393": "sleeved", "1394": "post", "1395": "stuck", "1396": "attempt", "1397": "beneath", "1398": "sets", "1399": "figure", "1400": "fabric", "1401": "foliage", "1402": "narrow", "1403": "fishes", "1404": "bends", "1405": "brunette", "1406": "lifts", "1407": "lands", "1408": "teal", "1409": "shade", "1410": "bleachers", "1411": "partially", "1412": "scales", "1413": "gallery", "1414": "emerges", "1415": "crawling", "1416": "bounds", "1417": "bounce", "1418": "barren", "1419": "teammate", "1420": "headfirst", "1421": "concert", "1422": "photographs", "1423": "wheels", "1424": "mostly", "1425": "swimsuits", "1426": "fruit", "1427": "worker", "1428": "guard", "1429": "glove", "1430": "cheerleader", "1431": "runners", "1432": "camel", "1433": "shoe", "1434": "athlete", "1435": "camels", "1436": "treat", "1437": "pillow", "1438": "sheer", "1439": "headed", "1440": "drive", "1441": "traveling", "1442": "chew", "1443": "van", "1444": "plant", "1445": "sneakers", "1446": "hood", "1447": "weather", "1448": "caps", "1449": "floral", "1450": "males", "1451": "daughter", "1452": "pitch", "1453": "racers", "1454": "slightly", "1455": "females", "1456": "casting", "1457": "monument", "1458": "tops", "1459": "speaks", "1460": "touch", "1461": "second", "1462": "athletic", "1463": "style", "1464": "amidst", "1465": "cloud", "1466": "bathroom", "1467": "distant", "1468": "participate", "1469": "pale", "1470": "autumn", "1471": "flipping", "1472": "meadow", "1473": "sniffs", "1474": "stripes", "1475": "grabs", "1476": "polka", "1477": "plaza", "1478": "cape", "1479": "starting", "1480": "breaking", "1481": "buckets", "1482": "rear", "1483": "robe", "1484": "been", "1485": "sail", "1486": "deer", "1487": "houses", "1488": "officers", "1489": "jockeys", "1490": "tied", "1491": "skyline", "1492": "infant", "1493": "chocolate", "1494": "driveway", "1495": "helmeted", "1496": "relaxing", "1497": "spins", "1498": "advertisement", "1499": "luggage", "1500": "approaching", "1501": "bikinis", "1502": "jack", "1503": "playpen", "1504": "khaki", "1505": "wakeboarding", "1506": "stool", "1507": "shaved", "1508": "business", "1509": "push", "1510": "musical", "1511": "instrument", "1512": "retrieves", "1513": "tossing", "1514": "marked", "1515": "bath", "1516": "boarding", "1517": "gentleman", "1518": "bay", "1519": "leafy", "1520": "branches", "1521": "murky", "1522": "arena", "1523": "jewelry", "1524": "buried", "1525": "electric", "1526": "bathtub", "1527": "festival", "1528": "position", "1529": "stairway", "1530": "bush", "1531": "human", "1532": "crouched", "1533": "campfire", "1534": "candy", "1535": "hardhat", "1536": "pet", "1537": "arcade", "1538": "opponent", "1539": "space", "1540": "control", "1541": "broken", "1542": "binoculars", "1543": "crossed", "1544": "roof", "1545": "masks", "1546": "crying", "1547": "whistle", "1548": "sledding", "1549": "shovel", "1550": "speeds", "1551": "grabbing", "1552": "midst", "1553": "straight", "1554": "beagle", "1555": "point", "1556": "robes", "1557": "appear", "1558": "jumper", "1559": "fireworks", "1560": "stair", "1561": "crane", "1562": "elephant", "1563": "tri", "1564": "pigtails", "1565": "meal", "1566": "suv", "1567": "flat", "1568": "fountains", "1569": "artist", "1570": "follow", "1571": "navy", "1572": "intersection", "1573": "cage", "1574": "toddlers", "1575": "strange", "1576": "pacifier", "1577": "reflection", "1578": "uphill", "1579": "club", "1580": "wakeboard", "1581": "booth", "1582": "stops", "1583": "lines", "1584": "still", "1585": "logs", "1586": "either", "1587": "bungee", "1588": "tag", "1589": "waist", "1590": "scenic", "1591": "kayaks", "1592": "visible", "1593": "diver", "1594": "horizon", "1595": "countryside", "1596": "dimly", "1597": "knees", "1598": "link", "1599": "dreadlocks", "1600": "uniformed", "1601": "tugging", "1602": "multiple", "1603": "clad", "1604": "read", "1605": "dusty", "1606": "ponytail", "1607": "opens", "1608": "stretching", "1609": "rowboat", "1610": "photographed", "1611": "flames", "1612": "shoveling", "1613": "horseback", "1614": "digs", "1615": "tripod", "1616": "belly", "1617": "numbered", "1618": "stars", "1619": "jockey", "1620": "advertising", "1621": "sparklers", "1622": "kites", "1623": "traditional", "1624": "mural", "1625": "soft", "1626": "tv", "1627": "pony", "1628": "drawing", "1629": "barn", "1630": "pointed", "1631": "snowmobile", "1632": "cows", "1633": "star", "1634": "swimmers", "1635": "opening", "1636": "jogs", "1637": "pushed", "1638": "descending", "1639": "growling", "1640": "hiding", "1641": "approaches", "1642": "trotting", "1643": "waterskier", "1644": "hikes", "1645": "checkered", "1646": "floaties", "1647": "museum", "1648": "silhouetted", "1649": "covers", "1650": "swords", "1651": "lane", "1652": "far", "1653": "tosses", "1654": "camping", "1655": "tub", "1656": "excited", "1657": "paw", "1658": "lighting", "1659": "fisherman", "1660": "enclosed", "1661": "gestures", "1662": "attack", "1663": "mall", "1664": "slip", "1665": "handlebars", "1666": "performer", "1667": "oriental", "1668": "spot", "1669": "wild", "1670": "balance", "1671": "costumed", "1672": "dot", "1673": "lounge", "1674": "poodles", "1675": "gliding", "1676": "bundled", "1677": "identical", "1678": "cameras", "1679": "snowcapped", "1680": "toilet", "1681": "individuals", "1682": "doors", "1683": "rollerskating", "1684": "poster", "1685": "dancer", "1686": "stretches", "1687": "cast", "1688": "motorcyclists", "1689": "apple", "1690": "aerial", "1691": "ridge", "1692": "wig", "1693": "sweaters", "1694": "cards", "1695": "firetruck", "1696": "picks", "1697": "office", "1698": "hut", "1699": "nighttime", "1700": "feather", "1701": "pathway", "1702": "soaked", "1703": "paints", "1704": "wades", "1705": "relaxes", "1706": "snowboarders", "1707": "tropical", "1708": "items", "1709": "summer", "1710": "carts", "1711": "windows", "1712": "weeds", "1713": "vendor", "1714": "selling", "1715": "underwear", "1716": "stare", "1717": "husky", "1718": "barks", "1719": "reflective", "1720": "tight", "1721": "power", "1722": "skimpy", "1723": "was", "1724": "clapping", "1725": "marker", "1726": "shoots", "1727": "laptop", "1728": "pick", "1729": "brother", "1730": "handles", "1731": "tattooed", "1732": "hardwood", "1733": "pen", "1734": "goat", "1735": "mom", "1736": "cooking", "1737": "babies",
   "1738": "pedestrians", "1739": "graffitied", "1740": "fuzzy", "1741": "rings", "1742": "dribbling", "1743": "parka", "1744": "canoes", "1745": "collars", "1746": "chicken", "1747": "army", "1748": "tiny", "1749": "wand", "1750": "rally", "1751": "color", "1752": "ran", "1753": "trainer", "1754": "umbrellas", "1755": "dropping", "1756": "colourful", "1757": "batman", "1758": "railings", "1759": "flute", "1760": "crown", "1761": "fan", "1762": "squirted", "1763": "burning", "1764": "ribbons", "1765": "sing", "1766": "trashcan", "1767": "member", "1768": "helicopter", "1769": "bee", "1770": "dish", "1771": "skateboarders", "1772": "descends", "1773": "dive", "1774": "multicolor", "1775": "come", "1776": "incline", "1777": "sunlight", "1778": "elaborate", "1779": "fireplace", "1780": "sprays", "1781": "folding", "1782": "seaweed", "1783": "stretch", "1784": "sporting", "1785": "flowery", "1786": "stretched", "1787": "cushion", "1788": "sat", "1789": "leashed", "1790": "blocking", "1791": "wakeboarder", "1792": "including", "1793": "leotard", "1794": "headdress", "1795": "boards", "1796": "heavily", "1797": "posts", "1798": "own", "1799": "peeks", "1800": "leaf", "1801": "container", "1802": "overhead", "1803": "parasailing", "1804": "handle", "1805": "facial", "1806": "bouncy", "1807": "limb", "1808": "bottles", "1809": "bread", "1810": "halloween", "1811": "tricycles", "1812": "choppy", "1813": "aqua", "1814": "casts", "1815": "floppy", "1816": "works", "1817": "tights", "1818": "glider", "1819": "calm", "1820": "bounding", "1821": "mess", "1822": "hurdles", "1823": "native", "1824": "wade", "1825": "observes", "1826": "fellow", "1827": "kicked", "1828": "similar", "1829": "snake", "1830": "beverage", "1831": "bearing", "1832": "footballer", "1833": "cheer", "1834": "injured", "1835": "skies", "1836": "pitching", "1837": "studio", "1838": "bunny", "1839": "carpeted", "1840": "pan", "1841": "drag", "1842": "motor", "1843": "seagulls", "1844": "bridesmaids", "1845": "cannon", "1846": "startseq", "1847": "endseq"};

var fileDrag = document.getElementById("file-drag");
var fileSelect = document.getElementById("file-upload");

// Add event listeners
fileDrag.addEventListener("dragover", fileDragHover, false);
fileDrag.addEventListener("dragleave", fileDragHover, false);
fileDrag.addEventListener("drop", fileSelectHandler, false);
fileSelect.addEventListener("change", fileSelectHandler, false);

function fileDragHover(e) {
  // prevent default behaviour
  e.preventDefault();
  e.stopPropagation();

  fileDrag.className = e.type === "dragover" ? "upload-box dragover" : "upload-box";
}

function fileSelectHandler(e) {
  // handle file selecting
  var files = e.target.files || e.dataTransfer.files;
  fileDragHover(e);
  for (var i = 0, f; (f = files[i]); i++) {
    previewFile(f);
  }
}


//========================================================================
// Web page elements for functions to use
//========================================================================

var imagePreview = document.getElementById("image-preview");
var imageDisplay = document.getElementById("image-display");
var uploadCaption = document.getElementById("upload-caption");
var predResult = document.getElementById("pred-result2");
var loader = document.getElementById("loader");
var model1=undefined;
var model2=undefined;

//========================================================================
// Main button events
//========================================================================
loaded=0;
async function predict() {

   // action for the submit button
   if (!imageDisplay.src || !imageDisplay.src.startsWith("data")) {
    window.alert("Please select an image before submit.");
    return;
  }

  document.getElementById("image-display").style.filter='blur(8px)'
  document.getElementsByClassName("loader")[0].style.display = "block";

  // filter: blur(8px);
  
  if (loaded==0){
    model1 = await tf.loadLayersModel('/model1/model1.json');
    model2 = await tf.loadLayersModel('/model2/model2.json');
    console.log("MODEL LOADED");  
    loaded=1;
  }
  
  // let meanImageNetRGB = tf.tensor1d([123.68, 116.779, 103.939]);
  // let tensor = tf.browser.fromPixels(imagePreview)
  //   .resizeNearestNeighbor([224, 224])
  //   .toFloat()
  //   .sub(meanImageNetRGB)
  //   .reverse(2)
  //   .expandDims();

  let tensorImg = tf.browser.fromPixels(imagePreview).resizeNearestNeighbor([224, 224]).toFloat();
  tensorImg=tf.reverse(tensorImg, -1);
  let offset = tf.scalar(128);
  tensorImg=tensorImg.sub(offset);
  tensorImg=tensorImg.expandDims();

  // let meanImageNetRGB = {
  //   red: 123.68,
  //   green: 116.779,
  //   blue: 103.939
  // };

  // let indices = [
  //   tf.tensor1d([0], "int32"),
  //   tf.tensor1d([1], "int32"),
  //   tf.tensor1d([2], "int32")
  // ];

  // let centeredRGB = {
  //   red: tf.gather(tensorImg, indices[0], 2)
  //       .sub(tf.scalar(meanImageNetRGB.red))
  //       .reshape([50176]),
  //   green: tf.gather(tensorImg, indices[1], 2)
  //       .sub(tf.scalar(meanImageNetRGB.green))
  //       .reshape([50176]),
  //   blue: tf.gather(tensorImg, indices[2], 2)
  //       .sub(tf.scalar(meanImageNetRGB.blue))
  //       .reshape([50176])
  // };


  // let processedTensor = tf.stack([
  //     centeredRGB.red, centeredRGB.green, centeredRGB.blue], 1).reshape([224, 224, 3]).reverse(2).expandDims();
 
  
  // tensorImg.print();
  var features=await model1.predict(tensorImg);
  // features.print();
  // var list = new ArrayList;
  var in_txt="startseq";
	for(i=0;i<35;++i){
    var sequence=in_txt.trim().split(" ");
    var seq = new Array(35);
    for (index = 0; index < seq.length; index++)
      seq[index]=0;
    for (index = 0; index < sequence.length; index++)
      seq[index]=word2idx[sequence[index]];
    // console.log(seq);
    seq=tf.tensor(seq);
    seq=seq.reshape([1,35]);
    // console.log(seq.shape);
    // console.log(features.shape);
    var y_pred=model2.predict([features,seq]).arraySync();
    y_pred=tf.tensor(y_pred);
    // console.log(y_pred);
    // y_pred.print();
    var idx=tf.argMax(y_pred,1);
    idx=idx.arraySync();
    // console.log(idx);
		word=idx2word[idx];
		in_txt+=' '+word;

		if (word=='endseq')
      break;
  }
  // console.log(in_txt);

  var final_cap=in_txt.trim().split(" ");
  var pred_caption="";
  for (index = 1; index < final_cap.length-1; index++){
      pred_caption+=final_cap[index];
      pred_caption+=" ";
  }
  
  document.getElementsByClassName("loader")[0].style.display = "none";
  document.getElementById("image-display").style.filter=""
  predResult.innerHTML = pred_caption;
  show(predResult);

  window.scrollTo(0,document.body.scrollHeight);      // auto scroll to bottom

}

function clearImage() {

  document.getElementsByClassName("loader")[0].style.display = "block";
  // reset selected files
  fileSelect.value = "";

  // remove image sources and hide them
  imagePreview.src = "";
  imageDisplay.src = "";
  predResult.innerHTML = "";

  hide(imagePreview);
  hide(imageDisplay);
  hide(loader);
  hide(predResult);
  show(uploadCaption);

  document.getElementsByClassName("loader")[0].style.display = "none";

  imageDisplay.classList.remove("loading");
}

function previewFile(file) {
  // show the preview of the image
  var fileName = encodeURI(file.name);

  var reader = new FileReader();
  reader.readAsDataURL(file);
  reader.onloadend = () => {
    imagePreview.src = URL.createObjectURL(file);

    show(imagePreview);
    hide(uploadCaption);

    // reset
    predResult.innerHTML = "";
    imageDisplay.classList.remove("loading");

    displayImage(reader.result, "image-display");
  };
}

//========================================================================
// Helper functions
//========================================================================

function displayImage(image, id) {
  // display image on given id <img> element
  let display = document.getElementById(id);
  display.src = image;
  show(display);
}

function hide(el) {
  // hide an element
  el.classList.add("hidden");
}

function show(el) {
  // show an element
  el.classList.remove("hidden");
}
